# Project G: Handwriting (& Signatures)
```{r handwritingsetup, echo=FALSE}
library(knitr)
opts_chunk$set(echo=FALSE)
```

The handwriting project has four major focuses:

  1. data collection
  2. computational tools
  3. statistical analysis
      a. glyph clustering
      b. closed set modeling for writer identification
  4. communication of results

## Data Collection
We are conducting a large data collection study to gather handwriting samples from a variety of participants across the world (most in the Midwest). Each participant provides handwriting samples at three sessions. Session packets are prepared, mailed to participants, completed, and mailed back. Once recieved, we scan all surveys and writing samples. Scans are loaded, cropped, and saved using a Shiny app. The app also facilitates survey data entry, saving that participant data to lines in an excel spreadsheet.


Data collection is underway with the most recent update (9/1) at 106 participants enrolled:

  - 44 complete through session #3
  - 52 complete through session #2
  - 10 complete through session #1

As of September 2019, Marc and Anyesha are the primary contacts for the study.

  
## Computational Tools
`handwriter` is a developmental R package hosted at https://github.com/CSAFE-ISU/handwriter. It is our major computational tool for the project. The package takes in scanned handwritten documents and the following are performed. 

1. <strong> Binarize.</strong> Turn the image to pure black and white.
2. <strong> Skeletonize. </strong> Reduce writing to a 1 pixel wide skeleton.
3. <strong> Break. </strong> Connected writing is decomposed into small manageable pieces called <strong> glyphs </strong>. Glyphs are graphical structures with nodes and edges that often, but not always, correspond to Roman letters, and are the smallest unit of observation we consider for statistcal modelling.
4. <strong> Measure. </strong> A variety of measurements are taken on each glyph.

```{r, fig.cap="Connected text processed by `handwriter`. The grey background is the original pen stroke. Colored lines represent the single pixel skeleton with color changes marking glyph decomposition. Red dots mark endpoints and intersections of each glyph.", out.width="50%", fig.keep="hold", fig.align='center'}
include_graphics(c( "images/handwriting/amy/handwriter_csafe.png"))
```


For an input document, functions in the package give back a list of glyphs with path and node location information, adjacency grouping assignment, slope (pictured below), and centroid locations, among other things.

```{r, fig.cap="A visual of the ``slope'' calculation for two glyphs.", out.width="90%", fig.keep="hold", fig.align='center'}
include_graphics(c( "images/handwriting/amy/handwriter_slopecalc.png"))
```

<p class="new"> We are currently working to incorporate the cluster grouping assignments into the package. This will be complete pending creation of a template.<p>

## Statistical Analysis
### Clustering
Background to be added here.
<p class="new"> Paper submitted!<p>
<p class="new"> ...<p>

```{r, fig.cap="", out.width="80%", fig.keep="hold", fig.align='center'}
include_graphics(c( "images/handwriting/amy/clusterpaper_header.png"))
```

### Closed set modelling
The following will be the jumping off point for purposes of this book with respect to modelling and discussion of results.

![Poster given at the 10th International Workshop on Simulation and Statistics](images/handwriting/amy/Crawford_SIMSTAT_2019.png)


## Communication of Results  
Presenting author is in bold.

### Papers
- "A Clustering Method for Graphical Handwriting Components and Statistical Writership Analysis"
    - Authors: Nick Berry, Amy Crawford
    - Submitted to The Annals of Applied Statistics in September 2019.
    
- "Handwriting Paper 2"
    - Authors: Amy Crawford, Alicia Carriquiry, and Danica Ommen
    - In preparation for submission to PNAS
   
   

### Talks
- "Statistical Analysis of Handwriting for Writer Identification"
    - August 2019
    - Authors: <strong>Amy Crawford</strong>, Nick Berry, Alicia Carriquiry, Danica Ommen
    - American Society of Questioned Document Examiners (ASQDE) Annual Meeting in Cary, NC.
 
- "A Bayesian Hierarchical Mixture Model with Applications in Forensic Handwriting Analysis"
    - July 2019
    - Authors: <strong>Amy Crawford</strong>, Nick Berry, Alicia Carriquiry Danica Ommen
    - Joint Statistical Meetings (JSM) in Denver, CO.
    
- "Forensic Analysis of Handwriting"
    - July 2019
    - Authors: <strong>Alicia Carriquiry</strong>, Amy Crawford, Nick Berry, Danica Ommen
    - VI Latin American Meeting on Bayesian Statistics (VI COBAL), Lima, Peru.
    
- "Exploratory Analysis of Handwriting Features: Investigating Numeric Measurements of Writing"
    - February 2019
    - Authors: <strong>Amy Crawford</strong>, Nick Berry, Alicia Carriquiry, Danica Ommen
    - American Academy of Forensic Sciences (AAFS) Annual Meeting in Baltimore, MD.
    
- "Toward a Statistical and Algorithmic Approach to Forensic Handwriting Comparison"
    - August 2018
    - Authors: <strong>Amy Crawford</strong> and Alicia Carriquiry
    - American Society of Questioned Document Examiners (ASQDE) Annual Meeting in Park City, UT.
    
- "A Bayesian Approach to Forensic Handwriting Evidence"
    - July 2018
        - Authors: <strong>Amy Crawford</strong> and Alicia Carriquiry
    - Joint Statistical Meetings (JSM) in Vancouver, BC, Canada.
    
- "Bringing Statistical Foundations to Forensic Handwriting Analysis"
    - May 2018
    - Authors: <strong>Amy Crawford</strong> and Alicia Carriquiry
    - American Bar Association, 9th Annual Prescription for Criminal Justice Forensics Program in New York, NY.

### Posters
- "A Bayesian Hierarchical Model for Forensic Writer Identification"
    - August 2019
    - Authors: <strong>Amy Crawford</strong>, Alicia Carriquiry, Danica Ommen
    - 10th International Workshop on Statistics and Simulation in Salzburg, Austria
    - 1st Springer Poster Award
    
- "Statistical Analysis of Letter Importance for Document Examination"
    - February 2018
    - Authors: <strong>Amy Crawford</strong> and Alicia Carriquiry
    - American Academy of Forensic Sciences in Seattle, WA
    - YFSF Best Poster Award
    
    
- "Statistical Analysis of Handwriting"
    - May 2019
    - Authors: <strong>Amy Crawford</strong> and Nick Berry
    - CSAFE Annual All-Hands Meeting in Ames, IA
    
- (Presented AAFS Poster for a Second Time)
    - May 2018
    - Authors: <strong>Amy Crawford</strong>, Nick Berry, Alicia Carriquiry, Danica Ommen
    - CSAFE Annual All-Hands Meeting in Ames, IA
    

## People involved

### Faculty

- Alicia Carriquiry
- Danica Ommen
- Hal Stern (UCI, Project G PI)

### Graduate Students

- Amy Crawford

### Undergraduates

- Anyesha Rey (data collection)



